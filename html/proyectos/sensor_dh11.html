<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Título de tu página</title>
    <link rel="stylesheet" href="../../css/proyectos/styles_termometro.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="../../images/logo.png" alt="Descripción de la imagen" style="height: 100px;width: auto;">
        </div>
    </header>
    <nav class="menu">
      <ul class="nav-list">                  
          <li><a href="../../index.html" class="inicio">INICIO</a></li>
          <li><a href="../conceptos.html" class="conceptos">BLOGS</a></li>
          <li><a href="../proyectos.html" class="proyectos">PROYECTOS</a></li>
          <li> <a href="../servicios.html" class="servicios">SERVICIOS</a></li>
          <li><a href="../descargas.html" class="descargas">DESCARGAS</a></li>
          <li><a href="../donaciones.html" class="donaciones">DONACIONES</a></li>
      </ul>
  </nav>
    <section>
      <div class="contenedor">
        <h2 id="titulo">Medición de Temperatura y Humedad</h2>
        <h2 id="subtitulo">Descripción</h2>
        <p id="texto_1">Este sistema consiste en la Medición de temperatura mediante el uso del sensor DHT11 que se utiliza para aplicaciones de meteorologiá. Sus variables son almacenadas de forma digital en un chip.</p>
        <h3>Materiales necesarios:</h3>
        <ul>
          <li>ESP32 (cualquier versión)</li>
          <li>Sensor DHT11</li>
          <li>Librerias instaladas sobre dht11 y el ESP32</li>
          <li>Elementos que simulen la variación de temperatura y humedad (ventilador, fosforo, roceador de agua)</li>
          <li>Protoboard y cables de conexión</li>
        </ul>
        <h3>Instrucciones:</h3>
          <ol>
             <li>Conecta sensor DHT11 en el Protoboard.</li>
             <li>Alimente VCC con 5v y GND con el Arduino.</li>
             <li>Conecte el pin Data al pin GPIO4.</li>
             <li>Los cables deben tener la longitud necesaria para desplazar libremente el sensor.</li>
             <li>Carga el código en el Arduino.</li>
             <li>En el monitor serial, verifique la conexión y copie la dirección IP.</li>
             <li>Ingrese la dirección IP en el navegador y compruebe los valores de temperatura - humedad.</li>
          </ol>
          <h3>Esquema de conexión</h3>
          <img src="../../images/esp32_dht11.png"> 
          <h3>Código de Ejemplo (para Arduino IDE):</h3>
          <div class="container">
          <div class="controls">
            <button onclick="copyCode()">Copiar</button>
          </div>
          <div class="code-container">
            <div class="message" id="message">Copied</div>
            <pre id="code-block" class="line-numbers"><code class="language-c" style="color: black;">
/*
  Creado: Luis  Alvarez (edualv1723@gmail.com)
  https://alvelectronics.com
*/
#include &lt;WiFi.h&gt;
#include &lt;WebServer.h&gt;
#include &lt;DHTesp.h&gt;

// Credenciales WiFi
const char* ssid = "TuSSID";      
const char* password = "TuPassword";

WebServer server(80);

const int dhtPin = 4;  // Pin de datos del DHT11
DHTesp dht;

void handleRoot() {
  float temperature = dht.getTemperature();
  float humidity = dht.getHumidity();

  String html = "<!DOCTYPE html><html><head><meta charset='UTF-8'><title>Medición DHT11</title></head><body>";
  html += "<h1>ESP32 - Medición de Temperatura y Humedad</h1>";
  html += "<p>Temperatura: " + String(temperature, 1) + " &deg;C</p>";
  html += "<p>Humedad: " + String(humidity, 1) + " %</p>";
  html += "</body></html>";

  server.send(200, "text/html", html);
}

void setup() {
  Serial.begin(115200);
  dht.setup(dhtPin, DHTesp::DHT11);

  // Conectar al WiFi
  WiFi.begin(ssid, password);
  Serial.print("Conectando a WiFi");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println();
  Serial.print("Conectado. IP: ");
  Serial.println(WiFi.localIP());

  // Página principal
  server.on("/", handleRoot);

  server.begin();
  Serial.println("Servidor HTTP iniciado");
}

void loop() {
  server.handleClient();
}




      </code></pre>
          </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script>
           function copyCode() {
                var codeBlock = document.getElementById('code-block').innerText;
                navigator.clipboard.writeText(codeBlock).then(function() {
                  showMessage();
                }, function() {
                  alert('Error al copiar el código');
                });
              }
              function showMessage() {
                var message = document.getElementById('message');
                message.classList.add('show-message');
                setTimeout(function() {
                  message.classList.remove('show-message');
                }, 1000);
              } 
      
        </script>
      </div>
    </section>
    <footer>
        <p>Derechos de autor © 2024 - Luis Alvarez</p>
    </footer>
    <a href="https://wa.link/epa3e7" class="whatsapp-button" target="_blank">
      <img src="../../images/boton_whatsapp.png" alt="Whatsapp">
    </a>
    <script src="js/script.js"></script> <!-- Asegúrate que la ruta refleja la estructura de carpetas -->
</body>
</html>
